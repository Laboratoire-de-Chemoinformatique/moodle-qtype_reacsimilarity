{"version":3,"file":"api_helper.min.js","sources":["../src/api_helper.js"],"sourcesContent":["// This file is part of Moodle - https://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle. If not, see <https://www.gnu.org/licenses/>.\n\n\n/**\n * Utils script to call the External Web Service for the Reacsimilarity question type\n * @subpackage reacsimilarity\n * @copyright 2024 unistra {@link http://unistra.fr}\n * @author Louis Plyer <louis.plyer@unistra.fr>, Céline Pervès <cperves@unistra.fr>, Alexandre Varnek <varnek@unistra.fr>,\n * Gilles Marcou <g.marcou@unistra.fr>\n * @license http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later\n */\n\nimport Ajax from 'core/ajax';\nimport notification from \"core/notification\";\n\nexport const generateOutputChemDoodle = (molfile, json_data, component) => {\n    Ajax.call([{\n      methodname: 'qtype_reacsimilarity_modify_rxnfile',\n      args: {\n        molfile: molfile,\n        json_data: json_data,\n        sesskey: M.cfg.sesskey,\n      },\n      done : response =>  {\n        window.console.log(JSON.stringify(response.json));\n        window.console.log(response.molfile);\n        component.value = JSON.stringify(response);\n      },\n      fail: notification.exception\n    }], false);\n};\n\nexport const retrieveScafold = (questionid) => {\n  let scaffold='';\n  Ajax.call([{\n    methodname: 'qtype_reacsimilarity_retrieve_scaffold',\n    args: {\n      questionid: questionid,\n    },\n    done : response =>  {\n      scaffold = response.scaffold;\n    },\n    fail: notification.exception\n  }], false);\n  return scaffold;\n};\n\nexport const retrieveCorrectDatas = (questionid) => {\n  let correctDatas='';\n  Ajax.call([{\n    methodname: 'qtype_reacsimilarity_retrieve_correctdatas',\n    args: {\n      questionid: questionid,\n    },\n    done : response =>  {\n      correctDatas = response.correctDatas;\n    },\n    fail: notification.exception\n  }], false);\n  return correctDatas;\n};"],"names":["molfile","json_data","component","call","methodname","args","sesskey","M","cfg","done","response","window","console","log","JSON","stringify","json","value","fail","notification","exception","questionid","scaffold","correctDatas"],"mappings":";;;;;;;;uRA4BwC,CAACA,QAASC,UAAWC,2BACpDC,KAAK,CAAC,CACTC,WAAY,sCACZC,KAAM,CACJL,QAASA,QACTC,UAAWA,UACXK,QAASC,EAAEC,IAAIF,SAEjBG,KAAOC,WACLC,OAAOC,QAAQC,IAAIC,KAAKC,UAAUL,SAASM,OAC3CL,OAAOC,QAAQC,IAAIH,SAASV,SAC5BE,UAAUe,MAAQH,KAAKC,UAAUL,WAEnCQ,KAAMC,sBAAaC,aACjB,6BAGwBC,iBAC1BC,SAAS,wBACRnB,KAAK,CAAC,CACTC,WAAY,yCACZC,KAAM,CACJgB,WAAYA,YAEdZ,KAAOC,WACLY,SAAWZ,SAASY,UAEtBJ,KAAMC,sBAAaC,aACjB,GACGE,wCAG4BD,iBAC/BE,aAAa,wBACZpB,KAAK,CAAC,CACTC,WAAY,6CACZC,KAAM,CACJgB,WAAYA,YAEdZ,KAAOC,WACLa,aAAeb,SAASa,cAE1BL,KAAMC,sBAAaC,aACjB,GACGG"}